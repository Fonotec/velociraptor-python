File Format
===========

The file format used for the :mod:`velociraptor.observational_data`
functionality is described below. These files are simple HDF5 files that can
be opened using :mod:`h5py` or some other module, and so are easily portable
to different systems. They are designed to be both human and machine
'readable' to enable maximal re-use throughout many projects.

You are free to write your own reader/writer for this data, but the other
sections in this documentation showcase python tools already written to
perform such tasks.

HDF5 Fields
-----------

The required fields in a file are given here:

.. code-block:: bash

   file_name.hdf5
   ├cosmology
   │ └9 attributes:
   │   ├H0: H0 in km/s/Mpc
   │   ├Neff: Effective number of neutrino species
   │   ├Ob0: Omega baryons: density of baryonic matter in units of the critical density at z=0.
   │   ├Ode0: Omega dark energy: density of dark energy in units of the critical density at z=0.
   │   ├Om0: Omega matter: density of matter in units of the critical density at z=0.
   │   ├Tcmb0: CMB temperature at z=0
   │   ├m_nu: Masses of neutrino species (size 3)
   │   ├m_nu_units: Neutrino mass units
   │   └name: Name of this cosmology (e.g. WMAP7)
   ├metadata
   │ └6 attributes:
   │   ├bibcode: 'Bibcode - available from e.g. ADS'
   │   ├citation: 'Short citation (e.g. X et al. 2019)'
   │   ├comment: 'Free-text comment describing e.g. IMF choices'
   │   ├name: 'Short name that is easily recognised'
   │   ├plot_as: 'points' or 'line' - plot as either markers or a line
   │   └redshift: 0.0 - floating point number
   ├x
   │ ├2 attributes:
   │ │ ├comoving: True/False
   │ │ └description: 'Short description of axis, e.g. galaxy stellar mass'
   │ └values	[float64: N]
   │   └2 attributes:
   │     ├unit_registry: Generated by unyt automatically
   │     └units: 'String units, e.g. Msun'
   └y
      ├2 attributes:
      │ ├comoving: True
      │ └description: 'Short description of axis, e.g. galaxy stellar mass'
      ├scatter	[float64: N (or 2XN), OPTIONAL] - scatter in this dimension.
      │ └2 attributes:
      │   ├unit_registry: Generated by unyt automatically
      │   └units: 'String units, e.g. Msun'
      └values	[float64: N]
      └2 attributes:
         ├unit_registry: Generated by unyt automatically
         └units: 'String units, e.g. Msun'

